# Claudine Configuration
# All values are optional - defaults shown below are applied automatically.
# See src/core/configuration.ts for Zod schema and validation rules.

# Core settings
TASK_TIMEOUT=1800000              # Task timeout in ms (default: 30min, max: 1h)
MAX_OUTPUT_BUFFER=10485760        # Max output buffer in bytes (default: 10MB, max: 1GB)
CPU_CORES_RESERVED=2              # CPU cores reserved for system (default: 2, max: 32)
MEMORY_RESERVE=2684354560         # Memory reserve in bytes (default: 2.5GB, max: 64GB)
LOG_LEVEL=info                    # Log level: debug | info | warn | error

# EventBus resource limits
EVENTBUS_MAX_LISTENERS_PER_EVENT=100   # Max listeners per event type (default: 100)
EVENTBUS_MAX_TOTAL_SUBSCRIPTIONS=1000  # Global subscription limit (default: 1000)

# Worktree management (EXPERIMENTAL - default OFF)
USE_WORKTREES_BY_DEFAULT=false         # Enable git worktrees for task isolation
WORKTREE_MAX_AGE_DAYS=30               # Max age before auto-cleanup (days)
WORKTREE_MAX_COUNT=50                  # Max concurrent worktrees
WORKTREE_REQUIRE_SAFETY_CHECK=true     # Check safety before worktree removal

# Process management
PROCESS_KILL_GRACE_PERIOD_MS=5000      # Grace period before SIGKILL (ms)
RESOURCE_MONITOR_INTERVAL_MS=5000      # Resource check interval (ms)
WORKER_MIN_SPAWN_DELAY_MS=10000        # Min delay between worker spawns (ms)
WORKER_SETTLING_WINDOW_MS=15000        # Settling window for new workers (ms)

# Event system
EVENT_REQUEST_TIMEOUT_MS=5000          # Event request-response timeout (ms)
EVENT_CLEANUP_INTERVAL_MS=60000        # Event history cleanup interval (ms)

# Storage
FILE_STORAGE_THRESHOLD_BYTES=102400    # Threshold for file-based storage (bytes, default: 100KB)

# Retry behavior
RETRY_INITIAL_DELAY_MS=1000            # Initial retry delay (ms)
RETRY_MAX_DELAY_MS=30000               # Max retry delay (ms)

# Recovery
TASK_RETENTION_DAYS=7                  # Days to retain completed tasks
